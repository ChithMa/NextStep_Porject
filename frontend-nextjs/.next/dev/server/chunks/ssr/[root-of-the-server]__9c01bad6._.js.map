{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/dulain/Downloads/NextStep_Porject-main/frontend-nextjs/components/Register/Step1.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useContext, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { RegisterContext } from \"./RegisterContext\";\nimport axios from \"axios\";\n\nfunction Step1() {\n  const context = useContext(RegisterContext);\n  if (!context) throw new Error(\"Step1 must be used within RegisterProvider\");\n  \n  const { formData, setFormData } = context;\n  const [error, setError] = useState(\"\");\n  const router = useRouter();\n\n  const handleNext = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // ✅ Validation for empty fields (including availability)\n    if (\n      !formData.studentID ||\n      !formData.firstName ||\n      !formData.lastName ||\n      !formData.contactNumber||\n      !formData.degreeProgramme ||\n      !formData.level ||\n      !formData.email ||\n      !formData.password ||\n      !formData.availability\n    ) {\n      setError(\"All fields are required\");\n      return;\n    }\n\n    // ✅ Student ID rule\n    if (!formData.studentID.includes(\"C\") || !formData.studentID.includes(\"B\")) {\n      setError(\"Student ID must include letters 'C' and 'B'\");\n      return;\n    }\n    \n    // Contact number validation\n    const phoneRegex = /^[0-9]{10}$/;\n    if (!phoneRegex.test(formData.contactNumber)) {\n      setError(\"Contact number must be exactly 10 digits.\");\n      return;\n    }\n\n    // ✅ Email rule\n    const emailRegex = new RegExp(`${formData.studentID}@students\\\\.apiit\\\\.lk$`);\n    if (!emailRegex.test(formData.email)) {\n      setError(\"Email must match format: StudentID@students.apiit.lk\");\n      return;\n    }\n\n    // ✅ Duplicate check (backend)\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/auth/check-duplicates\", {\n        studentID: formData.studentID,\n        email: formData.email,\n      });\n\n      if (res.data.exists) {\n        setError(res.data.message);\n        return;\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"Error checking existing accounts\");\n      return;\n    }\n\n    setError(\"\");\n    router.push(\"/register/step2\");\n  };\n\n  return (\n    <div className=\"register-wrapper\">\n      {/* Header */}\n      <div className=\"register-header\">\n        <div className=\"register-badge\">NEXT STEP - STUDENT JOURNEY</div>\n        <h1 className=\"register-main-title\">\n          Start your placement journey with confidence.\n        </h1>\n        <p className=\"register-subtitle\">\n          We will guide you through a few quick steps so coordinators can match the best opportunities to your strengths.\n        </p>\n        <p className=\"register-login-link\">\n          Already started? <a onClick={() => router.push(\"/\")}>Return to login</a>\n        </p>\n      </div>\n\n      {/* Registration Card */}\n      <div className=\"register-card\">\n        {/* Progress Bar */}\n        <div className=\"progress-container\">\n          <div className=\"step-label\">STEP 1 OF 4</div>\n          <div className=\"progress-bar-bg\">\n            <div className=\"progress-bar-fill\" style={{ width: '25%' }}></div>\n          </div>\n        </div>\n\n        {/* Step Navigation */}\n        <div className=\"step-navigation\">\n          <div className=\"step-nav-item active\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n                <circle cx=\"12\" cy=\"7\" r=\"4\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Basic Info</span>\n          </div>\n          <div className=\"step-nav-item inactive\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Preferences</span>\n          </div>\n          <div className=\"step-nav-item inactive\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\n                <polyline points=\"14 2 14 8 20 8\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Credentials</span>\n          </div>\n          <div className=\"step-nav-item inactive\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n                <circle cx=\"12\" cy=\"7\" r=\"4\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Profile</span>\n          </div>\n        </div>\n\n        {/* Form Content */}\n        <div className=\"register-form-content\">\n          <h2 className=\"form-section-title\">Basic Info</h2>\n          <p className=\"form-section-subtitle\">\n            Introduce yourself and share your academic details.\n          </p>\n\n          <form onSubmit={handleNext}>\n            <div className=\"form-grid\">\n              <div className=\"form-field full-width\">\n                <label htmlFor=\"studentID\">Student ID</label>\n                <input\n                  id=\"studentID\"\n                  type=\"text\"\n                  placeholder=\"nanu@example.com\"\n                  value={formData.studentID || \"\"}\n                  onChange={(e) => setFormData({ ...formData, studentID: e.target.value })}\n                />\n              </div>\n\n              <div className=\"form-field full-width\">\n                <label htmlFor=\"degreeProgramme\">Degree Programme</label>\n                <select\n                  id=\"degreeProgramme\"\n                  value={formData.degreeProgramme || \"\"}\n                  onChange={(e) => setFormData({ ...formData, degreeProgramme: e.target.value })}\n                >\n                  <option value=\"\">Software Engineering</option>\n                  <option value=\"Software Engineering\">Software Engineering</option>\n                  <option value=\"Computer Science\">Computer Science</option>\n                  <option value=\"Cyber Security\">Cyber Security</option>\n                </select>\n              </div>\n\n              <div className=\"form-field\">\n                <label htmlFor=\"firstName\">First Name</label>\n                <input\n                  id=\"firstName\"\n                  type=\"text\"\n                  placeholder=\"nanu\"\n                  value={formData.firstName || \"\"}\n                  onChange={(e) => setFormData({ ...formData, firstName: e.target.value })}\n                />\n              </div>\n\n              <div className=\"form-field\">\n                <label htmlFor=\"lastName\">Last Name</label>\n                <input\n                  id=\"lastName\"\n                  type=\"text\"\n                  placeholder=\"nntn\"\n                  value={formData.lastName || \"\"}\n                  onChange={(e) => setFormData({ ...formData, lastName: e.target.value })}\n                />\n              </div>\n\n              <div className=\"form-field full-width\">\n                <label htmlFor=\"level\">General level</label>\n                <select\n                  id=\"level\"\n                  value={formData.level || \"\"}\n                  onChange={(e) => setFormData({ ...formData, level: e.target.value })}\n                >\n                  <option value=\"\">Level 5</option>\n                  <option value=\"Level 5\">Level 5</option>\n                  <option value=\"Level 6\">Level 6</option>\n                </select>\n              </div>\n\n              <div className=\"form-field full-width\">\n                <label>Availability</label>\n                <div className=\"radio-group\">\n                  <div className=\"radio-option\">\n                    <input\n                      type=\"radio\"\n                      id=\"fulltime\"\n                      name=\"availability\"\n                      value=\"Full-time\"\n                      checked={formData.availability === \"Full-time\"}\n                      onChange={(e) => setFormData({ ...formData, availability: e.target.value })}\n                    />\n                    <label htmlFor=\"fulltime\">Full-time</label>\n                  </div>\n                  <div className=\"radio-option\">\n                    <input\n                      type=\"radio\"\n                      id=\"parttime\"\n                      name=\"availability\"\n                      value=\"Part-time\"\n                      checked={formData.availability === \"Part-time\"}\n                      onChange={(e) => setFormData({ ...formData, availability: e.target.value })}\n                    />\n                    <label htmlFor=\"parttime\">Part-time</label>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"form-field full-width\">\n                <label htmlFor=\"universityEmail\">University Email</label>\n                <input\n                  id=\"universityEmail\"\n                  type=\"email\"\n                  placeholder=\"nanu@techie.com\"\n                  value={formData.email || \"\"}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                />\n              </div>\n\n              <div className=\"form-field full-width\">\n                <label htmlFor=\"password\">Create Password</label>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"••••••••••\"\n                  value={formData.password || \"\"}\n                  onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                />\n              </div>\n            </div>\n\n            {error && <div className=\"register-error\">{error}</div>}\n\n            <div className=\"form-actions\">\n              <button type=\"submit\" className=\"btn-next\">\n                Continue to preferences\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Step1;\n"],"names":[],"mappings":"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","debugId":null}}]
}