{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/dulain/Downloads/NextStep_Porject-main/frontend-nextjs/components/Register/Step4.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useContext, useState, useRef } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { RegisterContext } from \"./RegisterContext\";\nimport axios from \"axios\";\n\nfunction Step4() {\n  const context = useContext(RegisterContext);\n  if (!context) throw new Error(\"Step4 must be used within RegisterProvider\");\n  \n  const { formData } = context;\n  const [profilePic, setProfilePic] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string>(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const router = useRouter();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    \n    if (![\"image/jpeg\", \"image/png\"].includes(file.type)) {\n      setError(\"Only JPG or PNG images are allowed for profile picture\");\n      return;\n    }\n    if (file.size > 2 * 1024 * 1024) {\n      setError(\"Profile picture size must not exceed 2 MB\");\n      return;\n    }\n\n    setError(\"\");\n    setProfilePic(file);\n    setPreviewUrl(URL.createObjectURL(file));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!profilePic) {\n      setError(\"Please upload your profile picture\");\n      return;\n    }\n\n    try {\n      const data = new FormData();\n      data.append(\"studentID\", formData.studentID);\n      data.append(\"firstName\", formData.firstName);\n      data.append(\"lastName\", formData.lastName);\n      data.append(\"contactNumber\", formData.contactNumber);\n      data.append(\"degreeProgramme\", formData.degreeProgramme);\n      data.append(\"level\", formData.level);\n      data.append(\"email\", formData.email);\n      data.append(\"password\", formData.password);\n      data.append(\"availability\", formData.availability);\n      \n      formData.internshipPreferences.forEach((pref) => {\n        data.append(\"internshipPreferences\", pref);\n      });\n      \n      if (formData.cv) {\n        data.append(\"cv\", formData.cv);\n      }\n      data.append(\"profilePic\", profilePic);\n\n      const res = await axios.post(\"http://localhost:5000/api/auth/register\", data, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n\n      setSuccess(\"Registration successful! Redirecting to login...\");\n      setTimeout(() => {\n        router.push(\"/\");\n      }, 2000);\n    } catch (err) {\n      console.error(err);\n      setError(\"Error during registration. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"register-wrapper\">\n      {/* Header */}\n      <div className=\"register-header\">\n        <div className=\"register-badge\">NEXT STEP - STUDENT JOURNEY</div>\n        <h1 className=\"register-main-title\">\n          Bring everything together and finalise your profile.\n        </h1>\n        <p className=\"register-subtitle\">\n          Add a professional photo and confirm your details so coordinators can recognize you instantly.\n        </p>\n        <p className=\"register-login-link\">\n          Already started? <a onClick={() => router.push(\"/\")}>Return to login</a>\n        </p>\n      </div>\n\n      {/* Registration Card */}\n      <div className=\"register-card\">\n        {/* Progress Bar */}\n        <div className=\"progress-container\">\n          <div className=\"step-label\">STEP 5 OF 5</div>\n          <div className=\"progress-bar-bg\">\n            <div className=\"progress-bar-fill\" style={{ width: '100%' }}></div>\n          </div>\n        </div>\n\n        {/* Step Navigation */}\n        <div className=\"step-navigation\">\n          <div className=\"step-nav-item inactive\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n                <circle cx=\"12\" cy=\"7\" r=\"4\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Personal</span>\n          </div>\n          <div className=\"step-nav-item inactive\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M22 10v6M2 10l10-5 10 5-10 5z\" />\n                <path d=\"M6 12v5c3 3 9 3 12 0v-5\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Education</span>\n          </div>\n          <div className=\"step-nav-item inactive\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Preferences</span>\n          </div>\n          <div className=\"step-nav-item inactive\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\n                <polyline points=\"14 2 14 8 20 8\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Documents</span>\n          </div>\n          <div className=\"step-nav-item active\">\n            <div className=\"step-icon\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\" />\n                <circle cx=\"12\" cy=\"13\" r=\"4\" />\n              </svg>\n            </div>\n            <span className=\"step-nav-label\">Photo</span>\n          </div>\n        </div>\n\n        {/* Form Content */}\n        <div className=\"register-form-content\">\n          <h2 className=\"form-section-title\">Profile</h2>\n          <p className=\"form-section-subtitle\">\n            Add a face to your journey with a professional profile photo.\n          </p>\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"profile-preview\">\n              <div className=\"profile-image-section\">\n                <div className=\"profile-image-circle\">\n                  {previewUrl ? (\n                    <img src={previewUrl} alt=\"Profile\" className=\"profile-image-preview\" />\n                  ) : (\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                      <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n                      <circle cx=\"12\" cy=\"7\" r=\"4\" />\n                    </svg>\n                  )}\n                </div>\n                <div className=\"upload-prompt\">\n                  <p style={{ fontSize: '13px', fontWeight: 600, marginBottom: '8px' }}>\n                    {profilePic ? \"No file selected\" : \"No file selected\"}\n                  </p>\n                  <button type=\"button\" onClick={() => fileInputRef.current?.click()}>\n                    {profilePic ? \"Change photo\" : \"Upload a new photo\"}\n                  </button>\n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\".jpg,.jpeg,.png\"\n                    onChange={handleFileChange}\n                    className=\"file-upload-input\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"profile-details\">\n                <h4>Review your details</h4>\n                <div className=\"detail-row\">\n                  <span className=\"detail-label\">Student ID</span>\n                  <span className=\"detail-value\">{formData.studentID || \"—\"}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span className=\"detail-label\">Name</span>\n                  <span className=\"detail-value\">{formData.firstName} {formData.lastName}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span className=\"detail-label\">Programme</span>\n                  <span className=\"detail-value\">{formData.degreeProgramme || \"—\"}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span className=\"detail-label\">Level</span>\n                  <span className=\"detail-value\">{formData.level || \"—\"}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span className=\"detail-label\">Availability</span>\n                  <span className=\"detail-value\">{formData.availability || \"—\"}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span className=\"detail-label\">Preferences</span>\n                  <span className=\"detail-value\">{formData.internshipPreferences.filter(p => p).join(\", \") || \"—\"}</span>\n                </div>\n              </div>\n            </div>\n\n            {error && <div className=\"register-error\">{error}</div>}\n            {success && <div className=\"register-success\">{success}</div>}\n\n            <div className=\"form-actions\">\n              <button type=\"button\" className=\"btn-back\" onClick={() => router.push(\"/register/step3\")}>\n                Back\n              </button>\n              <button type=\"submit\" className=\"btn-submit\">\n                Complete registration\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Step4;\n"],"names":[],"mappings":"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","debugId":null}}]
}