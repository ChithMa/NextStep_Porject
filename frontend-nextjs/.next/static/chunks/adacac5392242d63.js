(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},3424,e=>{"use strict";var t=e.i(43476),r=e.i(932),i=e.i(71645),a=e.i(18566),n=e.i(37818),s=e.i(81949);e.s(["default",0,function(){let e,o,l,p,c,u,d,m,f=(0,r.c)(16),g=(0,i.useContext)(n.RegisterContext);if(!g)throw Error("Step4 must be used within RegisterProvider");let{formData:h}=g,[y,b]=(0,i.useState)(null),[v,P]=(0,i.useState)(""),[S,j]=(0,i.useState)(""),x=(0,a.useRouter)();f[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{let t=e.target.files?.[0];if(t){if(!["image/jpeg","image/png"].includes(t.type))return void P("Only JPG or PNG images are allowed for profile picture");if(t.size>2097152)return void P("Profile picture size must not exceed 2 MB");P(""),b(t)}},f[0]=e):e=f[0];let N=e;f[1]!==h||f[2]!==y||f[3]!==x?(o=async e=>{if(e.preventDefault(),!y)return void P("Please upload your profile picture");try{let e=new FormData;e.append("studentID",h.studentID),e.append("firstName",h.firstName),e.append("lastName",h.lastName),e.append("contactNumber",h.contactNumber),e.append("degreeProgramme",h.degreeProgramme),e.append("level",h.level),e.append("email",h.email),e.append("password",h.password),e.append("availability",h.availability),h.internshipPreferences.forEach(t=>{e.append("internshipPreferences",t)}),h.cv&&e.append("cv",h.cv),e.append("profilePic",y),await s.default.post("http://localhost:5000/api/auth/register",e,{headers:{"Content-Type":"multipart/form-data"}}),j("Registration successful! Redirecting to login..."),setTimeout(()=>{x.push("/")},2e3)}catch(e){console.error(e),P("Error during registration. Please try again.")}},f[1]=h,f[2]=y,f[3]=x,f[4]=o):o=f[4];let _=o;return f[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("h2",{children:"Step 4 â€“ Upload Profile Picture"}),f[5]=l):l=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:N}),f[6]=p):p=f[6],f[7]!==v?(c=v&&(0,t.jsx)("p",{className:"error",children:v}),f[7]=v,f[8]=c):c=f[8],f[9]!==S?(u=S&&(0,t.jsx)("p",{className:"success",children:S}),f[9]=S,f[10]=u):u=f[10],f[11]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("button",{type:"submit",children:"Sign Up"}),f[11]=d):d=f[11],f[12]!==_||f[13]!==c||f[14]!==u?(m=(0,t.jsxs)("div",{className:"form-container",children:[l,(0,t.jsxs)("form",{onSubmit:_,children:[p,c,u,d]})]}),f[12]=_,f[13]=c,f[14]=u,f[15]=m):m=f[15],m}])}]);