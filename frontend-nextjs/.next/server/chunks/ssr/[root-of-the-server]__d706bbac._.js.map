{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/components/Register/Step1.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\n\nimport React, { useContext, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { RegisterContext } from \"./RegisterContext\";\nimport axios from \"axios\";\nimport \"../../styles/form.css\";\n\nfunction Step1() {\n  const context = useContext(RegisterContext);\n  if (!context) throw new Error(\"Step1 must be used within RegisterProvider\");\n  \n  const { formData, setFormData } = context;\n  const [error, setError] = useState(\"\");\n  const router = useRouter();\n\n  const handleNext = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // ✅ Validation for empty fields (including availability)\n    if (\n      !formData.studentID ||\n      !formData.firstName ||\n      !formData.lastName ||\n      !formData.contactNumber||\n      !formData.degreeProgramme ||\n      !formData.level ||\n      !formData.email ||\n      !formData.password ||\n      !formData.availability\n    ) {\n      setError(\"All fields are required\");\n      return;\n    }\n\n    // ✅ Student ID rule\n    if (!formData.studentID.includes(\"C\") || !formData.studentID.includes(\"B\")) {\n      setError(\"Student ID must include letters 'C' and 'B'\");\n      return;\n    }\n    \n    // Contact number validation\n    const phoneRegex = /^[0-9]{10}$/;\n    if (!phoneRegex.test(formData.contactNumber)) {\n      setError(\"Contact number must be exactly 10 digits.\");\n      return;\n    }\n\n    // ✅ Email rule\n    const emailRegex = new RegExp(`${formData.studentID}@students\\\\.apiit\\\\.lk$`);\n    if (!emailRegex.test(formData.email)) {\n      setError(\"Email must match format: StudentID@students.apiit.lk\");\n      return;\n    }\n\n    // ✅ Duplicate check (backend)\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/auth/check-duplicates\", {\n        studentID: formData.studentID,\n        email: formData.email,\n      });\n\n      if (res.data.exists) {\n        setError(res.data.message);\n        return;\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"Error checking existing accounts\");\n      return;\n    }\n\n    setError(\"\");\n    router.push(\"/register/step2\");\n  };\n\n  return (\n    <div className=\"form-container\">\n      <h2>Step 1 – Student Information</h2>\n      <form onSubmit={handleNext}>\n        <input\n          type=\"text\"\n          placeholder=\"Student ID\"\n          value={formData.studentID || \"\"}\n          onChange={(e) => setFormData({ ...formData, studentID: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"First Name\"\n          value={formData.firstName || \"\"}\n          onChange={(e) => setFormData({ ...formData, firstName: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Last Name\"\n          value={formData.lastName || \"\"}\n          onChange={(e) => setFormData({ ...formData, lastName: e.target.value })}\n        />\n         <input\n        type=\"text\"\n        placeholder=\"Contact Number\"\n        value={formData.contactNumber || \"\"}\n        onChange={(e) => setFormData({ ...formData, contactNumber: e.target.value })}\n      />\n        <select\n          value={formData.degreeProgramme || \"\"}\n          onChange={(e) => setFormData({ ...formData, degreeProgramme: e.target.value })}\n        >\n          <option value=\"\">Select Programme</option>\n          <option value=\"Software Engineering\">Software Engineering</option>\n          <option value=\"Computer Science\">Computer Science</option>\n          <option value=\"Cyber Security\">Cyber Security</option>\n        </select>\n\n        <select\n          value={formData.level || \"\"}\n          onChange={(e) => setFormData({ ...formData, level: e.target.value })}\n        >\n          <option value=\"\">Select Level</option>\n          <option value=\"Level 5\">Level 5</option>\n          <option value=\"Level 6\">Level 6</option>\n        </select>\n\n        <div className=\"availability-section\">\n          <label>Availability:</label>\n          <div>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"availability\"\n                value=\"Full-time\"\n                checked={formData.availability === \"Full-time\"}\n                onChange={(e) => setFormData({ ...formData, availability: e.target.value })}\n              />\n              Full Time\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"availability\"\n                value=\"Part-time\"\n                checked={formData.availability === \"Part-time\"}\n                onChange={(e) => setFormData({ ...formData, availability: e.target.value })}\n              />\n              Part Time\n            </label>\n          </div>\n        </div>\n\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={formData.email || \"\"}\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={formData.password || \"\"}\n          onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n        />\n         {error && <p className=\"error\">{error}</p>}\n        <button type=\"submit\">Next</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Step1;\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"+iBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,8BCFzCL,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,gKCAzC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,wBAGA,SAAS,EACP,IAAM,EAAU,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAA,eAAe,EAC1C,GAAI,CAAC,EAAS,MAAM,AAAI,MAAM,8CAE9B,GAAM,CAAE,UAAQ,aAAE,CAAW,CAAE,CAAG,EAC5B,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EAAa,MAAO,IAIxB,GAHA,EAAE,cAAc,GAId,CAAC,EAAS,SAAS,EACnB,CAAC,EAAS,SAAS,EACnB,CAAC,EAAS,QAAQ,EAClB,CAAC,EAAS,aAAa,EACvB,CAAC,EAAS,eAAe,EACzB,CAAC,EAAS,KAAK,EACf,CAAC,EAAS,KAAK,EACf,CAAC,EAAS,QAAQ,EAClB,CAAC,EAAS,YAAY,CACtB,YACA,EAAS,2BAKX,GAAI,CAAC,EAAS,SAAS,CAAC,QAAQ,CAAC,MAAQ,CAAC,EAAS,SAAS,CAAC,QAAQ,CAAC,KAAM,YAC1E,EAAS,+CAMX,GAAI,CADe,AACd,cAAW,IAAI,CAAC,EAAS,aAAa,EAAG,YAC5C,EAAS,6CAMX,GAAI,CADe,AAAI,AAClB,OADyB,CAAA,EAAG,EAAS,SAAS,CAAC,uBAAuB,CAAC,EAC5D,IAAI,CAAC,EAAS,KAAK,EAAG,YACpC,EAAS,wDAKX,GAAI,CACF,IAAM,EAAM,MAAM,EAAA,OAAK,CAAC,IAAI,CAAC,kDAAmD,CAC9E,UAAW,EAAS,SAAS,CAC7B,MAAO,EAAS,KAAK,AACvB,GAEA,GAAI,EAAI,IAAI,CAAC,MAAM,CAAE,YACnB,EAAS,EAAI,IAAI,CAAC,OAAO,CAG7B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,GACd,EAAS,oCACT,MACF,CAEA,EAAS,IACT,EAAO,IAAI,CAAC,kBACd,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,iCACJ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,YACd,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,aACZ,MAAO,EAAS,SAAS,EAAI,GAC7B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,UAAW,EAAE,MAAM,CAAC,KAAK,AAAC,KAExE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,aACZ,MAAO,EAAS,SAAS,EAAI,GAC7B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,UAAW,EAAE,MAAM,CAAC,KAAM,AAAD,KAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,YACZ,MAAO,EAAS,QAAQ,EAAI,GAC5B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,AAAC,KAEtE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACF,KAAK,OACL,YAAY,iBACZ,MAAO,EAAS,aAAa,EAAI,GACjC,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,cAAe,EAAE,MAAM,CAAC,KAAK,AAAC,KAE1E,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EAAS,eAAe,EAAI,GACnC,SAAW,AAAD,GAAO,EAAY,CAAE,GAAG,CAAQ,CAAE,gBAAiB,EAAE,MAAM,CAAC,KAAK,AAAC,aAE5E,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,qBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,gCAAuB,yBACrC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,4BAAmB,qBACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,0BAAiB,sBAGjC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,MAAO,EAAS,KAAK,EAAI,GACzB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,aAElE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,iBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,mBAAU,YACxB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,mBAAU,eAG1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UAAM,kBACP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,eACL,MAAM,YACN,QAAmC,cAA1B,EAAS,YAAY,CAC9B,SAAW,AAAD,GAAO,EAAY,CAAE,GAAG,CAAQ,CAAE,aAAc,EAAE,MAAM,CAAC,KAAK,AAAC,KACzE,eAGJ,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,KAAK,eACL,MAAM,YACN,QAAmC,cAA1B,EAAS,YAAY,CAC9B,SAAW,AAAD,GAAO,EAAY,CAAE,GAAG,CAAQ,CAAE,aAAc,EAAE,MAAM,CAAC,KAAK,AAAC,KACzE,qBAMR,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,YAAY,QACZ,MAAO,EAAS,KAAK,EAAI,GACzB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,AAAC,KAEpE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,YAAY,WACZ,MAAO,EAAS,QAAQ,EAAI,GAC5B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,AAAC,KAErE,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iBAAS,IACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,kBAAS,cAI9B","ignoreList":[0,1,2]}